# 웹툴 모음 (Web Tools Hub) - 서비스 기획서

## 📋 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [현재 기술 스택 분석](#2-현재-기술-스택-분석)
3. [호스팅 옵션 비교](#3-호스팅-옵션-비교)
4. [데이터베이스 설계](#4-데이터베이스-설계)
5. [기능 요구사항](#5-기능-요구사항)
6. [보안 고려사항](#6-보안-고려사항)
7. [확장성 및 성능](#7-확장성-및-성능)
8. [비용 분석](#8-비용-분석)
9. [권장 사항 및 로드맵](#9-권장-사항-및-로드맵)

---

## 1. 프로젝트 개요

### 1.1 서비스 목적
- **서비스명**: 웹툴 모음 (Web Tools Hub)
- **목적**: 일상에서 자주 사용하는 다양한 웹 도구를 한 곳에 모아 무료로 제공
- **타겟 사용자**: 일반 사용자, 개발자, 학생 등
- **핵심 가치**: 무료, 간편함, 빠른 처리

### 1.2 서비스 범위
- **현재**: 11개 웹 도구 제공 (이미지, 텍스트, 개발자, 생활/계산)
- **향후**: 사용자 피드백 기반 도구 추가
- **인증**: 사용자 가입/로그인 (선택사항)
- **관리**: 관리자 대시보드 (사용자 관리)

---

## 2. 현재 기술 스택 분석

### 2.1 현재 기술 스택

| 기술 | 버전 | 용도 | 적합성 |
|------|------|------|--------|
| **Next.js** | 14.0.4 | 프레임워크 (App Router) | ✅ 매우 적합 |
| **React** | 18.2.0 | UI 라이브러리 | ✅ 매우 적합 |
| **TypeScript** | 5.x | 타입 안정성 | ✅ 매우 적합 |
| **Tailwind CSS** | 3.4.0 | 스타일링 | ✅ 매우 적합 |
| **Supabase** | 2.39.0 | 인증 + 데이터베이스 | ✅ 적합 |
| **Lucide React** | 0.303.0 | 아이콘 | ✅ 적합 |

### 2.2 기술 스택 적합성 평가

#### ✅ **Next.js 14 (App Router) - 매우 적합**
**장점:**
- **서버 사이드 렌더링 (SSR)**: SEO 최적화, 초기 로딩 속도 향상
- **정적 사이트 생성 (SSG)**: 도구 목록 페이지 등 정적 콘텐츠 최적화
- **API Routes**: 서버리스 함수로 백엔드 로직 처리 가능
- **이미지 최적화**: 내장 이미지 최적화 기능
- **자동 코드 스플리팅**: 번들 크기 최적화
- **Vercel과의 완벽한 통합**: 원클릭 배포

**웹 서비스에 적합한 이유:**
- 무료 호스팅 옵션 (Vercel) 제공
- 글로벌 CDN 자동 구성
- 서버리스 아키텍처로 확장성 확보
- 개발 생산성 높음

#### ✅ **Supabase - 적합**
**장점:**
- **PostgreSQL 데이터베이스**: 강력한 관계형 데이터베이스
- **실시간 기능**: 실시간 데이터 동기화 가능
- **인증 시스템**: 이메일, 소셜 로그인 등 내장
- **Row Level Security (RLS)**: 데이터베이스 레벨 보안
- **Storage**: 파일 업로드/다운로드 (이미지 압축 등에 활용)
- **무료 티어**: 월 500MB 데이터베이스, 2GB 파일 스토리지

**웹 서비스에 적합한 이유:**
- 백엔드 인프라 구축 불필요
- 빠른 개발 속도
- 자동 백업 및 보안 관리
- 확장 가능한 가격 정책

#### ✅ **TypeScript - 매우 적합**
**장점:**
- 타입 안정성으로 런타임 에러 감소
- 코드 자동완성 및 리팩토링 용이
- 유지보수성 향상

#### ✅ **Tailwind CSS - 매우 적합**
**장점:**
- 빠른 UI 개발
- 일관된 디자인 시스템 구축
- 작은 번들 크기 (프로덕션 최적화)
- 반응형 디자인 용이

### 2.3 기술 스택 개선 제안

#### 추가 고려 기술
1. **React Query / SWR**: 서버 상태 관리 및 캐싱
2. **Zod**: 런타임 타입 검증 (폼 검증 등)
3. **React Hook Form**: 폼 관리 라이브러리
4. **NextAuth.js**: Supabase와 함께 사용 가능한 인증 미들웨어 (선택사항)

---

## 3. 호스팅 옵션 비교

### 3.1 옵션 비교표

| 항목 | Vercel | AWS (Amplify/EC2) | 자체 서버 | Netlify |
|------|--------|-------------------|-----------|---------|
| **초기 비용** | 무료 | 무료 티어 있음 | 서버 구매 필요 | 무료 |
| **월 비용 (소규모)** | $0-20 | $5-50 | $30-100+ | $0-19 |
| **배포 난이도** | ⭐ 매우 쉬움 | ⭐⭐ 보통 | ⭐⭐⭐ 어려움 | ⭐ 매우 쉬움 |
| **Next.js 최적화** | ✅ 완벽 | ⚠️ 설정 필요 | ⚠️ 수동 설정 | ✅ 좋음 |
| **자동 스케일링** | ✅ 자동 | ✅ 자동 | ❌ 수동 | ✅ 자동 |
| **글로벌 CDN** | ✅ 포함 | ✅ 포함 | ❌ 별도 구성 | ✅ 포함 |
| **서버리스 함수** | ✅ 포함 | ✅ 포함 | ❌ 불가 | ✅ 포함 |
| **SSL 인증서** | ✅ 자동 | ✅ 자동 | ⚠️ 수동 설정 | ✅ 자동 |
| **모니터링** | ✅ 기본 제공 | ⚠️ CloudWatch | ❌ 별도 구성 | ✅ 기본 제공 |
| **지원** | ✅ 우수 | ⚠️ 문서 중심 | ❌ 없음 | ✅ 좋음 |

### 3.2 상세 분석

#### 🏆 **1순위: Vercel (권장)**

**장점:**
- **Next.js 제작사가 만든 플랫폼**: 완벽한 통합
- **무료 티어**: 
  - 월 100GB 대역폭
  - 무제한 요청
  - 자동 HTTPS
  - 글로벌 CDN
- **원클릭 배포**: GitHub 연동 시 자동 배포
- **프리뷰 배포**: PR마다 미리보기 URL 생성
- **서버리스 함수**: API Routes 자동 최적화
- **Analytics**: 기본 분석 도구 제공 (유료)

**단점:**
- 대역폭 초과 시 비용 발생 (월 $20부터)
- 서버 사이드 로직 제한 (60초 타임아웃)

**비용 예상:**
- **초기 (소규모)**: 무료
- **중규모 (월 500GB 대역폭)**: $20/월
- **대규모**: $20-100+/월

**적합한 경우:**
- ✅ Next.js 프로젝트
- ✅ 빠른 배포 필요
- ✅ 초기 비용 최소화
- ✅ 자동 스케일링 필요

---

#### 🥈 **2순위: AWS Amplify**

**장점:**
- **AWS 생태계**: 다른 AWS 서비스와 통합 용이
- **무료 티어**: 12개월 무료 (제한적)
- **확장성**: 매우 높음
- **글로벌 인프라**: AWS 글로벌 네트워크

**단점:**
- 설정 복잡도 높음
- Next.js 최적화가 Vercel만큼 자동화되지 않음
- 비용 예측 어려움 (사용량 기반)

**비용 예상:**
- **초기**: 무료 티어 (12개월)
- **소규모**: $5-15/월
- **중규모**: $20-50/월

**적합한 경우:**
- ✅ AWS 생태계 사용 중
- ✅ 다른 AWS 서비스와 통합 필요
- ✅ 높은 확장성 필요

---

#### 🥉 **3순위: Netlify**

**장점:**
- **무료 티어**: 100GB 대역폭
- **쉬운 배포**: GitHub 연동
- **서버리스 함수**: 지원
- **폼 처리**: 내장 폼 처리 기능

**단점:**
- Next.js 최적화가 Vercel보다 약간 낮음
- 대규모 트래픽 시 비용 증가

**비용 예상:**
- **초기**: 무료
- **중규모**: $19/월

---

#### ❌ **자체 서버 (비권장)**

**단점:**
- **초기 비용**: 서버 구매 또는 임대 ($30-100+/월)
- **관리 부담**: 서버 관리, 보안 패치, 백업 등
- **확장성**: 수동 스케일링 필요
- **CDN**: 별도 구성 필요 (Cloudflare 등)
- **SSL**: 수동 설정 및 갱신
- **모니터링**: 별도 도구 필요

**적합한 경우:**
- ✅ 특수한 요구사항 (커스텀 서버 설정)
- ✅ 대규모 트래픽 예상 (비용 효율성)
- ✅ 서버 관리 전문 인력 보유

---

### 3.3 최종 권장사항

**🏆 Vercel을 1순위로 권장합니다.**

**이유:**
1. **Next.js와의 완벽한 통합**: 제작사가 만든 플랫폼
2. **무료 시작 가능**: 초기 비용 부담 없음
3. **자동 배포 및 스케일링**: 운영 부담 최소화
4. **글로벌 CDN 포함**: 전 세계 사용자에게 빠른 속도
5. **개발 생산성**: 배포에 시간 낭비 없음

**마이그레이션 전략:**
- 초기: Vercel 무료 티어로 시작
- 성장: 트래픽 증가 시 Vercel Pro ($20/월)로 업그레이드
- 대규모: 필요 시 AWS로 마이그레이션 (코드 변경 최소화)

---

## 4. 데이터베이스 설계

### 4.1 Supabase PostgreSQL 스키마 설계

#### **users 테이블 (Supabase Auth 확장)**
```sql
-- Supabase Auth의 auth.users 테이블을 확장
CREATE TABLE public.profiles (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  email TEXT UNIQUE,
  username TEXT UNIQUE,
  full_name TEXT,
  avatar_url TEXT,
  role TEXT DEFAULT 'user' CHECK (role IN ('user', 'admin')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS (Row Level Security) 정책
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;

-- 사용자는 자신의 프로필만 읽기/수정 가능
CREATE POLICY "Users can view own profile"
  ON public.profiles FOR SELECT
  USING (auth.uid() = id);

CREATE POLICY "Users can update own profile"
  ON public.profiles FOR UPDATE
  USING (auth.uid() = id);
```

#### **user_sessions 테이블 (로그인 세션 관리)**
```sql
CREATE TABLE public.user_sessions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES public.profiles(id) ON DELETE CASCADE,
  ip_address INET,
  user_agent TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  expires_at TIMESTAMP WITH TIME ZONE
);
```

#### **tool_usage_logs 테이블 (도구 사용 통계)**
```sql
CREATE TABLE public.tool_usage_logs (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES public.profiles(id) ON DELETE SET NULL,
  tool_id TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 인덱스 추가 (성능 최적화)
CREATE INDEX idx_tool_usage_tool_id ON public.tool_usage_logs(tool_id);
CREATE INDEX idx_tool_usage_created_at ON public.tool_usage_logs(created_at);
```

#### **user_saved_data 테이블 (사용자 저장 데이터)**
```sql
CREATE TABLE public.user_saved_data (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES public.profiles(id) ON DELETE CASCADE,
  tool_id TEXT NOT NULL,
  data JSONB NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS 정책
ALTER TABLE public.user_saved_data ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can manage own data"
  ON public.user_saved_data
  FOR ALL
  USING (auth.uid() = user_id);
```

### 4.2 데이터베이스 인덱스 전략

```sql
-- 프로필 조회 최적화
CREATE INDEX idx_profiles_email ON public.profiles(email);
CREATE INDEX idx_profiles_username ON public.profiles(username);
CREATE INDEX idx_profiles_role ON public.profiles(role);

-- 세션 관리 최적화
CREATE INDEX idx_user_sessions_user_id ON public.user_sessions(user_id);
CREATE INDEX idx_user_sessions_expires_at ON public.user_sessions(expires_at);
```

### 4.3 데이터베이스 백업 전략

- **Supabase 자동 백업**: 일일 자동 백업 (유료 플랜)
- **수동 백업**: 주기적 pg_dump 실행 (무료 플랜)
- **Point-in-Time Recovery**: 유료 플랜에서 제공

---

## 5. 기능 요구사항

### 5.1 사용자 기능

#### **5.1.1 회원가입**
- **이메일/비밀번호 가입**
  - 이메일 형식 검증
  - 비밀번호 강도 검증 (최소 8자, 영문+숫자+특수문자)
  - 이메일 인증 (선택사항)
- **소셜 로그인 (선택사항)**
  - Google, GitHub 로그인
- **사용자명 설정** (선택사항)
- **약관 동의** (필수)

#### **5.1.2 로그인**
- **이메일/비밀번호 로그인**
- **소셜 로그인**
- **자동 로그인** (Remember Me)
- **세션 관리**: JWT 토큰 기반

#### **5.1.3 아이디 찾기**
- **이메일로 찾기**: 가입 시 사용한 이메일 입력
- **이메일 발송**: 아이디(이메일) 안내 이메일 발송

#### **5.1.4 비밀번호 찾기/재설정**
- **이메일 인증**: 비밀번호 재설정 링크 발송
- **토큰 기반 재설정**: 링크 클릭 시 비밀번호 재설정 페이지로 이동
- **토큰 만료**: 1시간 후 만료

#### **5.1.5 회원 탈퇴**
- **탈퇴 확인**: 비밀번호 재입력 또는 이메일 인증
- **데이터 삭제**: 
  - 사용자 프로필 삭제
  - 저장된 데이터 삭제 (선택사항: 익명화)
  - 사용 로그 삭제 또는 익명화
- **탈퇴 후 30일 내 복구 가능** (선택사항)

#### **5.1.6 프로필 관리**
- **프로필 수정**: 이름, 아바타 등
- **비밀번호 변경**
- **이메일 변경** (재인증 필요)

### 5.2 관리자 기능

#### **5.2.1 사용자 관리**
- **사용자 목록 조회**
  - 검색: 이메일, 사용자명
  - 필터: 가입일, 역할, 활성 상태
  - 정렬: 가입일, 사용 횟수 등
  - 페이지네이션
- **사용자 상세 정보**
  - 프로필 정보
  - 가입일, 최근 로그인
  - 도구 사용 통계
  - 저장된 데이터 목록
- **사용자 역할 변경**
  - 일반 사용자 ↔ 관리자
- **사용자 정지/해제**
  - 계정 정지 사유 입력
  - 정지 기간 설정
- **사용자 삭제** (강제 탈퇴)
  - 데이터 삭제 또는 익명화

#### **5.2.2 통계 대시보드**
- **전체 통계**
  - 총 사용자 수
  - 일일/월간 활성 사용자
  - 도구별 사용 통계
- **트래픽 분석**
  - 일일 방문자 수
  - 페이지뷰
  - 평균 세션 시간

#### **5.2.3 관리자 권한 관리**
- **역할 기반 접근 제어 (RBAC)**
  - `admin`: 모든 권한
  - `moderator`: 사용자 조회/정지 (선택사항)
  - `user`: 일반 사용자

### 5.3 기능 구현 우선순위

#### **Phase 1: 핵심 인증 (1-2주)**
1. ✅ 회원가입 (이메일/비밀번호)
2. ✅ 로그인
3. ✅ 로그아웃
4. ✅ 프로필 조회

#### **Phase 2: 계정 관리 (1주)**
5. ✅ 비밀번호 재설정
6. ✅ 아이디 찾기
7. ✅ 프로필 수정
8. ✅ 비밀번호 변경

#### **Phase 3: 관리자 기능 (1-2주)**
9. ✅ 관리자 대시보드
10. ✅ 사용자 목록/검색
11. ✅ 사용자 상세 정보
12. ✅ 사용자 역할 변경
13. ✅ 사용자 정지/해제

#### **Phase 4: 고급 기능 (선택사항)**
14. ⚠️ 회원 탈퇴
15. ⚠️ 소셜 로그인
16. ⚠️ 통계 대시보드
17. ⚠️ 이메일 인증

---

## 6. 보안 고려사항

### 6.1 인증 보안

- **비밀번호 해싱**: Supabase 자동 처리 (bcrypt)
- **JWT 토큰**: Supabase 자동 관리
- **세션 관리**: 
  - 토큰 만료 시간 설정
  - 리프레시 토큰 사용
- **CSRF 보호**: Next.js 기본 제공
- **XSS 방지**: React 자동 이스케이프

### 6.2 데이터베이스 보안

- **Row Level Security (RLS)**: Supabase 기본 제공
- **SQL Injection 방지**: Supabase 클라이언트 자동 처리
- **환경 변수**: API 키 등 민감 정보 보호
- **백업 암호화**: Supabase 자동 처리

### 6.3 API 보안

- **Rate Limiting**: 
  - Vercel Edge Functions 사용
  - 또는 Upstash Redis 활용
- **CORS 설정**: 허용된 도메인만 접근
- **API 키 관리**: 환경 변수 사용

### 6.4 개인정보 보호

- **GDPR 준수**: 
  - 사용자 데이터 삭제 권리
  - 데이터 내보내기 기능 (선택사항)
- **개인정보 암호화**: 민감 정보는 암호화 저장
- **로그 관리**: 개인정보 포함 로그 최소화

---

## 7. 확장성 및 성능

### 7.1 확장성 전략

#### **수평 확장 (Horizontal Scaling)**
- **서버리스 아키텍처**: Vercel 자동 스케일링
- **데이터베이스**: Supabase 자동 스케일링
- **CDN**: 글로벌 콘텐츠 배포

#### **캐싱 전략**
- **정적 페이지**: Next.js ISR (Incremental Static Regeneration)
- **API 응답**: React Query / SWR 캐싱
- **이미지**: Next.js Image 최적화 + CDN

### 7.2 성능 최적화

- **코드 스플리팅**: Next.js 자동 처리
- **이미지 최적화**: Next.js Image 컴포넌트
- **폰트 최적화**: next/font 사용
- **번들 크기**: Tree-shaking, 압축

### 7.3 모니터링

- **Vercel Analytics**: 기본 제공
- **Sentry**: 에러 추적 (선택사항)
- **Supabase Dashboard**: 데이터베이스 모니터링
- **Google Analytics**: 사용자 행동 분석 (선택사항)

---

## 8. 비용 분석

### 8.1 초기 비용 (월간)

| 서비스 | 플랜 | 월 비용 | 연 비용 |
|--------|------|---------|---------|
| **Vercel** | Hobby (무료) | $0 | $0 |
| **Supabase** | Free | $0 | $0 |
| **도메인** | .com | $12/년 | $1/월 |
| **이메일 서비스** | Resend (무료) | $0 | $0 |
| **총계** | | **$1** | **$12** |

### 8.2 성장 단계별 비용

#### **소규모 (월 10만 방문자)**
- Vercel: $0 (무료 티어)
- Supabase: $0 (무료 티어)
- **총: $1/월** (도메인)

#### **중규모 (월 100만 방문자)**
- Vercel: $20/월 (Pro)
- Supabase: $25/월 (Pro)
- **총: $46/월**

#### **대규모 (월 1000만 방문자)**
- Vercel: $20-100/월 (Enterprise)
- Supabase: $25-100/월 (Team/Enterprise)
- **총: $45-200+/월**

### 8.3 비용 절감 전략

1. **무료 티어 최대 활용**: 초기에는 무료 플랜으로 시작
2. **캐싱 최적화**: CDN 활용으로 대역폭 절감
3. **이미지 최적화**: WebP 형식, 적절한 크기
4. **코드 최적화**: 번들 크기 최소화

---

## 9. 권장 사항 및 로드맵

### 9.1 최종 권장 아키텍처

```
┌─────────────────────────────────────────┐
│         사용자 (브라우저)                │
└──────────────┬──────────────────────────┘
               │
               ▼
┌─────────────────────────────────────────┐
│         Vercel (Next.js)                 │
│  - 프론트엔드 (React)                    │
│  - API Routes (서버리스)                 │
│  - CDN (자동)                            │
└──────────────┬──────────────────────────┘
               │
               ▼
┌─────────────────────────────────────────┐
│         Supabase                         │
│  - PostgreSQL (데이터베이스)             │
│  - Auth (인증)                           │
│  - Storage (파일 저장)                   │
│  - Realtime (실시간 기능)                │
└─────────────────────────────────────────┘
```

### 9.2 개발 로드맵

#### **Week 1-2: 인증 시스템 구축**
- [ ] Supabase 프로젝트 생성 및 설정
- [ ] 회원가입 페이지 구현
- [ ] 로그인 페이지 구현
- [ ] 로그아웃 기능
- [ ] 프로필 페이지

#### **Week 3: 계정 관리**
- [ ] 비밀번호 재설정
- [ ] 아이디 찾기
- [ ] 프로필 수정
- [ ] 비밀번호 변경

#### **Week 4-5: 관리자 기능**
- [ ] 관리자 대시보드 레이아웃
- [ ] 사용자 목록/검색
- [ ] 사용자 상세 정보
- [ ] 사용자 역할 변경
- [ ] 사용자 정지/해제

#### **Week 6: 배포 및 최적화**
- [ ] Vercel 배포 설정
- [ ] 도메인 연결
- [ ] 성능 최적화
- [ ] 보안 검토

### 9.3 향후 개선 사항

1. **소셜 로그인**: Google, GitHub
2. **이메일 인증**: 가입 시 이메일 인증
3. **2단계 인증 (2FA)**: 보안 강화
4. **사용자 통계**: 개인 사용 통계 페이지
5. **즐겨찾기**: 자주 사용하는 도구 저장
6. **사용 기록**: 최근 사용한 도구 목록
7. **다국어 지원**: 영어, 일본어 등

---

## 10. 결론

### 10.1 기술 스택 적합성: ✅ **매우 적합**

현재 기술 스택(Next.js + Supabase)은 웹 서비스 운영에 매우 적합합니다:
- ✅ 빠른 개발 속도
- ✅ 낮은 초기 비용
- ✅ 자동 스케일링
- ✅ 높은 성능
- ✅ 강력한 보안

### 10.2 호스팅 권장: 🏆 **Vercel**

**이유:**
- Next.js와의 완벽한 통합
- 무료로 시작 가능
- 자동 배포 및 스케일링
- 글로벌 CDN 포함
- 운영 부담 최소화

### 10.3 다음 단계

1. **Supabase 프로젝트 생성**: https://supabase.com
2. **Vercel 계정 생성**: https://vercel.com
3. **도메인 구매**: Namecheap, GoDaddy 등
4. **개발 시작**: 인증 시스템부터 구현

---

**작성일**: 2024년
**버전**: 1.0
**작성자**: AI Assistant
